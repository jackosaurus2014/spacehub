================================================================================
HOW TO PUBLISH SPACENEXUS ON APP STORES
================================================================================
Date: February 6, 2026
Version: 0.4.0

This guide covers the complete process for publishing SpaceNexus as native
mobile apps on the Google Play Store and Apple App Store.

================================================================================
TABLE OF CONTENTS
================================================================================
1. OVERVIEW OF OPTIONS
2. PREREQUISITES
3. OPTION A: PWABuilder (RECOMMENDED - Fastest)
4. OPTION B: CAPACITOR (Full Native Features)
5. OPTION C: TRUSTED WEB ACTIVITY (Android Only)
6. GOOGLE PLAY STORE SUBMISSION
7. APPLE APP STORE SUBMISSION
8. POST-SUBMISSION MAINTENANCE
9. COST SUMMARY
10. RECOMMENDED APPROACH

================================================================================
1. OVERVIEW OF OPTIONS
================================================================================

There are three main approaches to convert SpaceNexus (a Next.js PWA) into
native mobile apps:

| Approach     | Android | iOS | Complexity | Native Features | Cost    |
|--------------|---------|-----|------------|-----------------|---------|
| PWABuilder   | Yes     | Yes | LOW        | Limited         | Low     |
| Capacitor    | Yes     | Yes | MEDIUM     | Full Access     | Medium  |
| TWA          | Yes     | No  | LOW        | Limited         | Low     |

RECOMMENDATION: Start with PWABuilder for quick deployment, then migrate to
Capacitor if you need deeper native integration (push notifications, camera,
file system, etc.).

================================================================================
2. PREREQUISITES
================================================================================

Before starting, ensure the following are complete:

PWA REQUIREMENTS (Already Implemented):
[x] Web app manifest (public/site.webmanifest)
[x] Service worker (public/sw.js)
[x] HTTPS deployment (Railway provides this)
[ ] App icons (192x192, 512x512) - MISSING: Need to create actual icon files
[ ] Maskable icons for Android adaptive displays
[ ] Apple touch icons

DEVELOPER ACCOUNTS:
[ ] Google Play Console account ($25 one-time fee)
    https://play.google.com/console/signup

[ ] Apple Developer Program membership ($99/year)
    https://developer.apple.com/programs/enroll/

HARDWARE REQUIREMENTS:
- For iOS: Mac computer with Xcode 14+ (required for App Store submission)
- For Android: Any computer with Android Studio (optional but recommended)

MISSING ICONS - CREATE THESE FIRST:
1. public/icons/icon-192x192.png (192x192 pixels)
2. public/icons/icon-512x512.png (512x512 pixels)
3. public/icons/icon-maskable-192x192.png (with safe zone padding)
4. public/icons/icon-maskable-512x512.png (with safe zone padding)
5. public/apple-touch-icon.png (180x180 pixels)

Icon Design Tips:
- Use a bold, recognizable design that works at small sizes
- For maskable icons, keep the main content within the center 80%
- Test on multiple backgrounds (light and dark)
- Consider using a tool like https://maskable.app/ to verify maskable icons

================================================================================
3. OPTION A: PWABUILDER (RECOMMENDED - FASTEST)
================================================================================

PWABuilder is the fastest way to convert your PWA into native apps.

STEP 1: VISIT PWABUILDER
------------------------
Go to: https://www.pwabuilder.com/

STEP 2: ENTER YOUR URL
----------------------
Enter: https://spacenexus.app (your production URL)
PWABuilder will analyze your PWA and show a scorecard.

STEP 3: FIX ANY ISSUES
----------------------
PWABuilder will flag missing requirements. Common fixes needed:
- Missing icons (you need to create these)
- Manifest issues (we have this)
- Service worker (we have this)

STEP 4: GENERATE PACKAGES
-------------------------
Click "Package For Stores" and select:

FOR ANDROID:
- Select "Android"
- PWABuilder uses Trusted Web Activity (TWA)
- Download the generated .aab (Android App Bundle) file
- You'll also get instructions for signing the app

FOR iOS:
- Select "iOS"
- Download the Xcode project
- Open on Mac and build with Xcode
- Submit through Xcode or Transporter app

STEP 5: APP SIGNING
-------------------
For Android, you'll need to set up Play App Signing:
1. Let Google manage your signing key (recommended)
2. Or upload your own keystore

For iOS, Xcode handles code signing with your Apple Developer certificate.

================================================================================
4. OPTION B: CAPACITOR (FULL NATIVE FEATURES)
================================================================================

Capacitor wraps your web app in a native container with full access to device
APIs. Use this if you need features like:
- Push notifications (Firebase/APNs)
- Camera access
- File system access
- Biometric authentication
- Background tasks

STEP 1: INSTALL CAPACITOR
-------------------------
In your spacehub directory:

npm install @capacitor/core @capacitor/cli
npx cap init "SpaceNexus" "com.spacenexus.app" --web-dir=out

STEP 2: CONFIGURE NEXT.JS FOR STATIC EXPORT
-------------------------------------------
Edit next.config.js:

module.exports = {
  output: 'export',
  images: {
    unoptimized: true,
  },
  // ... rest of config
};

Note: Static export has limitations with dynamic routes. You may need to
adjust some API-dependent features.

STEP 3: BUILD AND SYNC
----------------------
npm run build
npx cap add android
npx cap add ios
npx cap sync

STEP 4: OPEN NATIVE PROJECTS
----------------------------
For Android:
npx cap open android
(Opens Android Studio)

For iOS:
npx cap open ios
(Opens Xcode - Mac required)

STEP 5: CONFIGURE NATIVE PROJECTS
---------------------------------
In Android Studio:
- Update app/build.gradle with your version codes
- Configure signing in Build > Generate Signed Bundle
- Add required permissions in AndroidManifest.xml

In Xcode:
- Set Bundle Identifier (com.spacenexus.app)
- Configure signing team
- Set deployment target (iOS 14+)
- Add required capabilities

STEP 6: ADD NATIVE PLUGINS (OPTIONAL)
-------------------------------------
For push notifications:
npm install @capacitor/push-notifications
npx cap sync

For camera:
npm install @capacitor/camera
npx cap sync

For geolocation:
npm install @capacitor/geolocation
npx cap sync

STEP 7: BUILD RELEASE VERSIONS
------------------------------
Android:
- In Android Studio: Build > Generate Signed Bundle / APK
- Select "Android App Bundle" (.aab format required for Play Store)
- Sign with your upload key

iOS:
- In Xcode: Product > Archive
- Distribute to App Store Connect

================================================================================
5. OPTION C: TRUSTED WEB ACTIVITY (ANDROID ONLY)
================================================================================

TWA is Google's official way to publish PWAs on Play Store.

REQUIREMENTS:
- Digital Asset Links file on your server
- App must pass Core Web Vitals
- Must have verified domain ownership

STEP 1: INSTALL BUBBLEWRAP
--------------------------
npm install -g @anthropic/anthropic-bubblewrap-cli
(or use PWABuilder which does this automatically)

STEP 2: INITIALIZE PROJECT
--------------------------
bubblewrap init --manifest=https://spacenexus.app/site.webmanifest

STEP 3: BUILD APK/AAB
---------------------
bubblewrap build

STEP 4: SET UP DIGITAL ASSET LINKS
----------------------------------
Create file: public/.well-known/assetlinks.json

[{
  "relation": ["delegate_permission/common.handle_all_urls"],
  "target": {
    "namespace": "android_app",
    "package_name": "com.spacenexus.app",
    "sha256_cert_fingerprints": ["YOUR_SHA256_FINGERPRINT_HERE"]
  }
}]

Get your fingerprint:
keytool -list -v -keystore your-keystore.jks -alias your-alias

================================================================================
6. GOOGLE PLAY STORE SUBMISSION
================================================================================

STEP 1: CREATE DEVELOPER ACCOUNT
--------------------------------
1. Go to https://play.google.com/console/signup
2. Pay $25 one-time registration fee
3. Complete identity verification (can take 48 hours)

STEP 2: CREATE NEW APP
----------------------
1. Click "Create app"
2. Enter app details:
   - App name: SpaceNexus
   - Default language: English (US)
   - App or game: App
   - Free or paid: Free (or Paid if applicable)
3. Accept Developer Program Policies

STEP 3: SET UP STORE LISTING
----------------------------
Required assets:
- App icon: 512x512 PNG (32-bit, no alpha)
- Feature graphic: 1024x500 PNG or JPG
- Screenshots: Min 2, max 8 per device type
  - Phone: 16:9 or 9:16 aspect ratio
  - 7" tablet: Same ratios
  - 10" tablet: Same ratios
- Short description: Max 80 characters
- Full description: Max 4000 characters
- App category: Tools or News & Magazines
- Contact email and (optional) website

STEP 4: CONTENT RATING
----------------------
Complete the content rating questionnaire:
- Violence: None
- Sexuality: None
- Language: None
- Controlled substances: None
- Expected rating: Everyone (E)

STEP 5: APP CONTENT DECLARATIONS
--------------------------------
- Privacy policy URL (required): Create at /privacy-policy
- Ads declaration: Does app contain ads?
- Data safety: Declare what data you collect

STEP 6: UPLOAD APP BUNDLE
-------------------------
1. Go to Production > Create new release
2. Let Google manage signing (recommended) or upload keystore
3. Upload your .aab file
4. Add release notes
5. Save and review

STEP 7: SUBMIT FOR REVIEW
-------------------------
1. Complete all required sections (marked with checkmarks)
2. Click "Send for review"
3. Review typically takes 1-3 days for new apps
4. May take longer if issues are found

COMMON REJECTION REASONS:
- Missing privacy policy
- Broken links or features
- Misleading metadata
- Insufficient functionality
- Policy violations

================================================================================
7. APPLE APP STORE SUBMISSION
================================================================================

IMPORTANT: You MUST have a Mac computer with Xcode to submit to App Store.

STEP 1: ENROLL IN APPLE DEVELOPER PROGRAM
-----------------------------------------
1. Go to https://developer.apple.com/programs/enroll/
2. Sign in with Apple ID
3. Pay $99/year membership fee
4. Complete enrollment (can take 48 hours for verification)

STEP 2: CREATE APP STORE CONNECT RECORD
---------------------------------------
1. Go to https://appstoreconnect.apple.com
2. Click "My Apps" > "+" > "New App"
3. Enter:
   - Platform: iOS
   - Name: SpaceNexus
   - Primary language: English (US)
   - Bundle ID: com.spacenexus.app
   - SKU: spacenexus-001
   - User Access: Full Access

STEP 3: PREPARE APP METADATA
----------------------------
Required information:
- App description (max 4000 characters)
- Keywords (max 100 characters, comma-separated)
- Support URL
- Marketing URL (optional)
- Privacy Policy URL (required)

Required assets:
- App icon: 1024x1024 PNG (no alpha, no rounded corners)
- Screenshots for each device size:
  - 6.7" display (iPhone 14 Pro Max): 1290 x 2796
  - 6.5" display (iPhone 11 Pro Max): 1284 x 2778
  - 5.5" display (iPhone 8 Plus): 1242 x 2208
  - iPad Pro 12.9": 2048 x 2732
- App preview videos (optional but recommended)

STEP 4: BUILD IN XCODE
----------------------
1. Open project in Xcode
2. Select your team in Signing & Capabilities
3. Ensure all capabilities are configured
4. Set version number (e.g., 1.0.0) and build number (e.g., 1)
5. Select "Any iOS Device (arm64)" as destination
6. Product > Archive

STEP 5: UPLOAD TO APP STORE CONNECT
-----------------------------------
After archiving:
1. Window > Organizer
2. Select archive
3. Click "Distribute App"
4. Select "App Store Connect"
5. Follow upload wizard
6. Wait for processing (5-30 minutes)

STEP 6: SUBMIT FOR REVIEW
-------------------------
1. In App Store Connect, select your build
2. Complete all required fields
3. Answer App Review questions:
   - Sign-in required? Provide demo account
   - Uses encryption? (HTTPS counts - answer YES)
   - Content rights documentation
4. Click "Submit for Review"

REVIEW TIMELINE:
- First review: 24-48 hours typically
- May take longer during holidays
- Expedited review available for critical fixes

APP STORE GUIDELINE 4.2 (MINIMUM FUNCTIONALITY):
Apple may reject PWA wrappers that don't provide significant native value.
To improve chances of approval:
- Add native features (push notifications, haptic feedback)
- Ensure excellent performance
- Provide unique value vs. the website
- Include offline functionality

================================================================================
8. POST-SUBMISSION MAINTENANCE
================================================================================

ANDROID (PLAY STORE):
- Monitor Android Vitals for crashes and ANRs
- Respond to user reviews
- Push updates via new .aab uploads
- Version code must increment with each update
- Monitor policy emails from Google

iOS (APP STORE):
- Monitor TestFlight feedback
- Respond to App Store reviews
- Submit updates through Xcode
- Version must increment (1.0.0 > 1.0.1)
- Watch for App Review guideline changes

COMMON UPDATE WORKFLOW:
1. Make changes to web app
2. Deploy to production
3. For Capacitor: npm run build && npx cap sync
4. Build new native release
5. Upload to respective stores
6. Write release notes
7. Submit for review

================================================================================
9. COST SUMMARY
================================================================================

ONE-TIME COSTS:
- Google Play Developer: $25
- Apple Developer Program: $99/year

ONGOING COSTS:
- Apple Developer Program renewal: $99/year
- Hosting (Railway): ~$5-20/month depending on usage

OPTIONAL COSTS:
- Professional app icons: $50-200
- App Store screenshots: $50-150
- Marketing assets: Varies

TOTAL FIRST YEAR (MINIMUM):
- Android only: $25
- iOS only: $99
- Both platforms: $124

================================================================================
10. RECOMMENDED APPROACH
================================================================================

PHASE 1: IMMEDIATE (This Week)
------------------------------
1. Create all missing icons:
   - 192x192 and 512x512 PNGs
   - Maskable versions
   - Apple touch icon

2. Set up developer accounts:
   - Google Play Console ($25)
   - Apple Developer Program ($99) - if you have a Mac

3. Create legal pages:
   - Privacy Policy (/privacy-policy)
   - Terms of Service (/terms)

PHASE 2: PWABuilder DEPLOYMENT (1-2 Weeks)
------------------------------------------
1. Use PWABuilder to generate Android package
2. Fix any flagged issues
3. Submit to Google Play Store
4. Wait for approval

5. (If Mac available) Generate iOS package
6. Build in Xcode
7. Submit to App Store
8. Address any review feedback

PHASE 3: CAPACITOR MIGRATION (Future)
-------------------------------------
Once apps are live and you want native features:
1. Set up Capacitor
2. Add push notification support
3. Add offline caching improvements
4. Add native sharing
5. Submit updates to both stores

================================================================================
QUICK START CHECKLIST
================================================================================

[ ] Create app icons (192x192, 512x512, maskable variants)
[ ] Create Apple touch icon (180x180)
[ ] Set up Google Play Developer account ($25)
[ ] Set up Apple Developer Program ($99/year)
[ ] Create Privacy Policy page
[ ] Create Terms of Service page
[ ] Use PWABuilder to generate Android package
[ ] Submit to Google Play Store
[ ] (Mac required) Generate and submit iOS app
[ ] Set up Digital Asset Links for TWA verification
[ ] Monitor reviews and crash reports
[ ] Plan regular update schedule

================================================================================
RESOURCES
================================================================================

PWABuilder: https://www.pwabuilder.com/
Capacitor: https://capacitorjs.com/docs/getting-started
Google Play Console: https://play.google.com/console
Apple Developer: https://developer.apple.com/
App Store Connect: https://appstoreconnect.apple.com/
Maskable Icon Editor: https://maskable.app/editor
Android Asset Studio: https://romannurik.github.io/AndroidAssetStudio/

DOCUMENTATION:
- Play Store policies: https://play.google.com/about/developer-content-policy/
- App Store guidelines: https://developer.apple.com/app-store/review/guidelines/
- TWA documentation: https://developer.chrome.com/docs/android/trusted-web-activity/
- Capacitor docs: https://capacitorjs.com/docs

================================================================================
END OF DOCUMENT
================================================================================
